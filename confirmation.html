<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paiement des frais de réservation - Aviris Agency</title>
  <meta name="description" content="Payez les frais de réservation pour confirmer votre rendez-vous.">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="logo.png" alt="Aviris Agency Logo" class="logo-img">
                        <span class="logo-text">Aviris Agency</span>
                    </a>
                </div>
                <nav class="main-nav">
                    <ul class="nav-list">
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle">À propos</a>
                            <ul class="dropdown-menu">
                                <li><a href="about.html">Notre agence</a></li>
                                <li><a href="testimonials.html">Témoignages</a></li>
                            </ul>
                        </li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="reservation.html" class="nav-booking">Réserver</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <a href="reservation.html" class="btn btn-secondary">Réserver une rencontre</a>
                    <a href="contact.html" class="btn btn-primary">Nous contacter</a>
                </div>
                <button class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1 class="page-title">Paiement des frais de réservation</h1>
                <p class="page-description">Payez les frais de réservation pour confirmer votre rendez-vous. Le montant total de la prestation sera à régler lors de la rencontre.</p>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <div class="checkout-grid">
                    <div class="checkout-details">
                        <div class="card mb-6">
                            <div class="card-content">
                                <h2 class="text-xl font-semibold mb-4">Récapitulatif de la réservation</h2>
                                <div class="reservation-summary">
                                    <div class="summary-item">
                                        <span class="summary-label">Créatrice:</span>
                                        <span class="summary-value" id="summary-creator">Elena</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Date et heure:</span>
                                        <span class="summary-value" id="summary-date">15/06/2025 à 14:00</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Durée:</span>
                                        <span class="summary-value" id="summary-duration">2 heures</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Lieu:</span>
                                        <span class="summary-value" id="summary-location">Hôtel</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Frais de déplacement:</span>
                                        <span class="summary-value" id="summary-travel">25€</span>
                                    </div>
                                </div>
                                <div class="price-details mt-4">
                                    <div class="price-row">
                                        <span class="price-label font-medium">Prestation:</span>
                                        <span class="price-value" id="service-price">80,00 €</span>
                                    </div>
                                    <div class="price-row">
                                        <span class="price-label font-medium">Frais de déplacement:</span>
                                        <span class="price-value" id="travel-price">25,00 €</span>
                                    </div>
                                    <div class="price-divider"></div>
                                    <div class="price-row total">
                                        <span class="price-label font-medium">À payer lors de la rencontre:</span>
                                        <span class="price-value font-medium" id="service-total-price">105,00 €</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card mb-6">
                            <div class="card-content">
                                <h2 class="text-xl font-semibold mb-4">Options supplémentaires</h2>
                                <div class="options-list">
                                    <div class="option-item">
                                        <div class="option-checkbox">
                                            <input type="checkbox" id="option-cancellation" name="option-cancellation" checked>
                                            <label for="option-cancellation">
                                                <div class="option-details">
                                                    <h3 class="option-title">Option annulation et remboursement</h3>
                                                    <p class="option-description">Possibilité d'annuler jusqu'à 24h avant le rendez-vous et d'être remboursé (hors frais de réservation).</p>
                                                </div>
                                                <div class="option-price">15€</div>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="option-item">
                                        <div class="option-checkbox">
                                            <input type="checkbox" id="option-package" name="option-package">
                                            <label for="option-package">
                                                <div class="option-details">
                                                    <h3 class="option-title">Package complet</h3>
                                                    <p class="option-description">Inclut l'annulation, le remboursement et le blocage exclusif de la date (aucune autre réservation ne sera acceptée).</p>
                                                </div>
                                                <div class="option-price">30€</div>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-content">
                                <h2 class="text-xl font-semibold mb-4">Méthode de paiement</h2>
                                <div class="payment-methods">
                                    <div class="payment-method">
                                        <input type="radio" id="payment-paypal" name="payment-method" value="paypal" checked>
                                        <label for="payment-paypal">
                                            <div class="payment-logo">
                                                <img src="/placeholder.svg?height=40&width=100" alt="PayPal">
                                            </div>
                                            <div class="payment-info">
                                                <h3 class="payment-title">PayPal</h3>
                                                <p class="payment-description">Paiement sécurisé via PayPal</p>
                                            </div>
                                        </label>
                                    </div>
                                    <div class="payment-method">
                                        <input type="radio" id="payment-paysafecard" name="payment-method" value="paysafecard">
                                        <label for="payment-paysafecard">
                                            <div class="payment-logo">
                                                <img src="/placeholder.svg?height=40&width=100" alt="Paysafecard">
                                            </div>
                                            <div class="payment-info">
                                                <h3 class="payment-title">Paysafecard</h3>
                                                <p class="payment-description">Paiement avec votre code Paysafecard</p>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                                <div class="payment-form" id="paysafecard-form" style="display: none;">
                                    <div class="form-group">
                                        <label for="paysafecard-code" class="font-medium">Code Paysafecard</label>
                                        <input type="text" id="paysafecard-code" name="paysafecard-code" placeholder="Entrez votre code Paysafecard" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="paysafecard-amount" class="font-medium">Montant du code</label>
                                        <select id="paysafecard-amount" name="paysafecard-amount">
                                            <option value="25">25€</option>
                                            <option value="50">50€</option>
                                            <option value="100">100€</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="client-email" class="font-medium">Votre email</label>
                                        <input type="email" id="client-email" name="client-email" placeholder="Votre adresse email" required>
                                        <p class="text-sm text-muted-foreground mt-2">Nécessaire pour vous contacter concernant votre réservation.</p>
                                    </div>
                                    <p class="text-sm text-muted-foreground mt-2">Après validation de votre code, nous vous contacterons via Discord pour confirmer votre réservation.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="checkout-summary">
                        <div class="card">
                            <div class="card-content">
                                <h2 class="text-xl font-semibold mb-4">Frais à payer maintenant</h2>
                                <div class="price-summary">
                                    <div class="price-item">
                                        <span class="price-label">Frais de réservation</span>
                                        <span class="price-value">20,00 €</span>
                                    </div>
                                    <div class="price-item" id="cancellation-option">
                                        <span class="price-label">Option annulation</span>
                                        <span class="price-value">15,00 €</span>
                                    </div>
                                    <div class="price-item" id="package-option" style="display: none;">
                                        <span class="price-label">Package complet</span>
                                        <span class="price-value">30,00 €</span>
                                    </div>
                                    <div class="price-total">
                                        <span class="price-label">Total à payer maintenant</span>
                                        <span class="price-value" id="total-price">35,00 €</span>
                                    </div>
                                </div>
                                <div class="price-info mt-4">
                                    <p class="text-sm text-muted-foreground">Le montant total de la prestation (<span id="service-total-price">105,00 €</span>) sera à régler directement lors de la rencontre.</p>
                                </div>
                                <button type="button" id="checkout-button" class="btn btn-primary w-full mt-4">Payer les frais de réservation</button>
                                <p class="text-sm text-muted-foreground mt-4 text-center">
                                    En cliquant sur "Payer les frais de réservation", vous acceptez nos <a href="terms.html" class="text-primary">conditions générales</a>.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="reservation-note mt-8">
                    <div class="icon-circle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                    </div>
                    <p>
                        Une fois les frais de réservation payés, vous recevrez une confirmation par email. Votre réservation sera définitivement confirmée après vérification par notre équipe. Le montant total de la prestation sera à régler directement lors de la rencontre.
                    </p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="footer-logo">
                        <img src="logo.png" alt="Aviris Agency Logo" class="logo-img">
                        <span class="logo-text">Aviris Agency</span>
                    </div>
                    <p class="footer-text">Nous mettons en relation les créatrices de contenu avec des opportunités professionnelles de qualité.</p>
                    <div class="footer-contact">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <rect height="16" rx="2" width="20" x="2" y="4"></rect>
                            <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                        </svg>
                        <span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="45262a2b312426310524332c372c366b2422202b263c">[email&#160;protected]</a></span>
                    </div>
                </div>
                <div class="footer-col">
                    <h3 class="footer-heading">Liens rapides</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="about.html">À propos</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3 class="footer-heading">Informations légales</h3>
                    <ul class="footer-links">
                        <li><a href="legal.html">Mentions Légales</a></li>
                        <li><a href="privacy.html">Politique de Confidentialité</a></li>
                        <li><a href="terms.html">Conditions Générales</a></li>
                        <li><a href="cookies.html">Gestion des Cookies</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3 class="footer-heading">Newsletter</h3>
                    <p class="footer-text">Inscrivez-vous pour recevoir nos actualités et offres exclusives.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Votre email" required>
                        <button type="submit" class="btn-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                                <path d="M5 12h14"></path>
                                <path d="m12 5 7 7-7 7"></path>
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="copyright">© 2025 Aviris Agency. Tous droits réservés.</p>
                <p class="made-with">
                    Conçu avec 
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon heart">
                        <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
                    </svg>
                    en France
                </p>
            </div>
        </div>
    </footer>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const mainNav = document.querySelector('.main-nav');
            
            if (menuToggle && mainNav) {
                menuToggle.addEventListener('click', function() {
                    mainNav.classList.toggle('active');
                    this.classList.toggle('active');
                });
            }
            
            // Payment method toggle
            const paymentMethods = document.querySelectorAll('input[name="payment-method"]');
            const paysafecardForm = document.getElementById('paysafecard-form');
            
            paymentMethods.forEach(method => {
                method.addEventListener('change', function() {
                    if (this.value === 'paysafecard') {
                        paysafecardForm.style.display = 'block';
                    } else {
                        paysafecardForm.style.display = 'none';
                    }
                });
            });
            
            // Options toggle
            const cancellationOption = document.getElementById('option-cancellation');
            const packageOption = document.getElementById('option-package');
            const cancellationPriceItem = document.getElementById('cancellation-option');
            const packagePriceItem = document.getElementById('package-option');
            const totalPrice = document.getElementById('total-price');
            const serviceTotalPrice = document.getElementById('service-total-price');
            
            function updateTotal() {
                let reservationFee = 20; // Frais de réservation fixes
                let total = reservationFee;
                
                if (cancellationOption.checked && !packageOption.checked) {
                    total += 15;
                    cancellationPriceItem.style.display = 'flex';
                    packagePriceItem.style.display = 'none';
                } else if (packageOption.checked) {
                    total += 30;
                    cancellationPriceItem.style.display = 'none';
                    packagePriceItem.style.display = 'flex';
                    cancellationOption.checked = false;
                } else {
                    cancellationPriceItem.style.display = 'none';
                    packagePriceItem.style.display = 'none';
                }
                
                totalPrice.textContent = total.toFixed(2) + ' €';
                
                // Calculer le montant total de la prestation (à payer lors de la rencontre)
                const servicePrice = parseFloat(document.getElementById('service-price').textContent);
                const travelPrice = parseFloat(document.getElementById('travel-price').textContent);
                const serviceTotal = servicePrice + travelPrice;
                
                serviceTotalPrice.textContent = serviceTotal.toFixed(2) + ' €';
            }
            
            cancellationOption.addEventListener('change', function() {
                if (this.checked) {
                    packageOption.checked = false;
                }
                updateTotal();
            });
            
            packageOption.addEventListener('change', function() {
                if (this.checked) {
                    cancellationOption.checked = false;
                }
                updateTotal();
            });
            
            // Initialize page with URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('creator')) {
                document.getElementById('summary-creator').textContent = urlParams.get('creator') || 'Elena';
            }
            if (urlParams.has('date')) {
                document.getElementById('summary-date').textContent = urlParams.get('date') || '15/06/2025 à 14:00';
            }
            if (urlParams.has('duration')) {
                const duration = urlParams.get('duration');
                let durationText = '2 heures';
                let price = 80;
                
                if (duration === 'nuit') {
                    durationText = 'Toute la nuit';
                    price = 150;
                } else if (duration === 'weekend') {
                    durationText = 'Week-end entier';
                    price = 300;
                }
                
                document.getElementById('summary-duration').textContent = durationText;
                document.getElementById('service-price').textContent = price.toFixed(2) + ' €';
                
                // Recalculate total
                const travelPrice = parseFloat(document.getElementById('travel-price').textContent);
                let newTotal = 20;

                if (cancellationOption.checked) {
                    newTotal += 15;
                } else if (packageOption.checked) {
                    newTotal += 30;
                }
                
                totalPrice.textContent = newTotal.toFixed(2) + ' €';
                serviceTotalPrice.textContent = (price + travelPrice).toFixed(2) + ' €';
            }
            if (urlParams.has('location')) {
                const location = urlParams.get('location');
                let locationText = 'Hôtel';
                
                if (location === 'votre-domicile') {
                    locationText = 'À votre domicile';
                } else if (location === 'domicile-createur') {
                    locationText = 'Au domicile de ' + document.getElementById('summary-creator').textContent;
                } else if (location === 'autre') {
                    locationText = 'Autre lieu (voir message)';
                }
                
                document.getElementById('summary-location').textContent = locationText;
            }
            if (urlParams.has('travel')) {
                const travelCost = urlParams.get('travel') || '0';
                document.getElementById('summary-travel').textContent = travelCost + ' €';
                document.getElementById('travel-price').textContent = travelCost + ',00 €';
                
                // Recalculate total
                const servicePrice = parseFloat(document.getElementById('service-price').textContent);
                let newTotal = 20;
                
                if (cancellationOption.checked) {
                    newTotal += 15;
                } else if (packageOption.checked) {
                    newTotal += 30;
                }
                
                totalPrice.textContent = newTotal.toFixed(2) + ' €';
                serviceTotalPrice.textContent = (servicePrice + parseInt(travelCost)).toFixed(2) + ' €';
            }
            
            // Checkout button
            document.getElementById('checkout-button').addEventListener('click', function() {
                const paymentMethod = document.querySelector('input[name="payment-method"]:checked').value;
                
                if (paymentMethod === 'paypal') {
                    // Remplacez "VOTRE_PAYPAL_ME" par votre lien PayPal.me
                    const paypalAmount = parseFloat(totalPrice.textContent);
                    
                    // Ouvrir PayPal dans une nouvelle fenêtre
                    const paypalWindow = window.open(`https://paypal.me/VOTRE_PAYPAL_ME/${paypalAmount}`, '_blank');
                    
                    // Demander à l'utilisateur de confirmer le paiement
                    setTimeout(function() {
                        if (confirm("Avez-vous terminé votre paiement PayPal? Cliquez sur OK pour confirmer.")) {
                            window.location.href = 'confirmation.html';
                        }
                    }, 5000); // Attendre 5 secondes avant de demander
                } else if (paymentMethod === 'paysafecard') {
                    // Récupérer les informations du formulaire Paysafecard
                    const paysafecardCode = document.getElementById('paysafecard-code').value;
                    const paysafecardAmount = document.getElementById('paysafecard-amount').value;
                    const clientEmail = document.getElementById('client-email').value;
                    
                    if (!paysafecardCode) {
                        alert('Veuillez entrer votre code Paysafecard.');
                        return;
                    }
                    
                    if (!clientEmail) {
                        alert('Veuillez entrer votre adresse email.');
                        return;
                    }
                    
                    // Récupérer les informations de réservation
                    const creator = document.getElementById('summary-creator').textContent;
                    const date = document.getElementById('summary-date').textContent;
                    const duration = document.getElementById('summary-duration').textContent;
                    const location = document.getElementById('summary-location').textContent;
                    const discord = urlParams.get('discord') || '';
                    
                    // Dans un environnement de production, vous enverriez ces données à votre serveur
                    // qui enverrait un email à l'administrateur avec les détails du code Paysafecard
                    
                    // Simuler l'envoi d'un email à l'administrateur
                    console.log(`
                        NOUVEAU CODE PAYSAFECARD REÇU
                        ---------------------------
                        Code: ${paysafecardCode}
                        Montant: ${paysafecardAmount}€
                        
                        DÉTAILS DE LA RÉSERVATION
                        ---------------------------
                        Client: ${clientEmail}
                        Discord: ${discord}
                        Créatrice: ${creator}
                        Date: ${date}
                        Durée: ${duration}
                        Lieu: ${location}
                    `);
                    
                    alert(`Merci ! Votre code Paysafecard a été enregistré. Nous vous contacterons via Discord pour confirmer votre réservation.`);
                    
                    // Rediriger vers la page de confirmation
                    window.location.href = 'confirmation.html';
                }
            });

            updateTotal();
        });
    </script>
</body>
</html>

